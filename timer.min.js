!function(e,t,r){"undefined"!=typeof module&&module.exports?module.exports=r():"function"==typeof define&&define.amd?define([],r):t[e]=r()}("Timer",this,function(){function e(e){return"[object Array]"===Object.prototype.toString.call(e)}function t(e){this.interval=e||60,this.handle=null,this.elapsed=0,this.triggers=null}return t.prototype={start:function(e){var t=this;return this.handle=setInterval(function(){if(t.elapsed++,t.triggers&&t.triggers[t.elapsed])for(var e=t.triggers[t.elapsed],r=0,i=e.length;i>r;r++){var s=e[r];s.context?s.func.call(context,t.elapsed):s.func(t.elapsed)}},e||this.interval),this},stop:function(){return clearInterval(this.handle),this},get:function(){return this.elapsed},set:function(e){return this.elapsed=e||0,this},addTrigger:function(e,t,r){return e?(this.triggers||(this.triggers={}),t=t||0,this.triggers[t]||(this.triggers[t]=[]),this.triggers[t].push({func:e,context:r}),this):this},removeTrigger:function(t){if(!this.triggers)return this;if(console.log("deleting",t),arguments.length)if(console.log("arg",t,typeof t),e(t))for(var r=0,i=t.length;i>r;r++)this.removeTrigger(t[r]);else if("function"==typeof t)for(var r in this.triggers){for(var s=[],n=this.triggers[r],g=0,i=this.triggers[r].length;i>g;g++){var o=n[g].func;o===t&&s.push(g)}for(var i=s.length,g=i;g>=0;g--)n.splice(s[g],1)}else this.triggers[t]&&(console.log("number"),delete this.triggers[t]);else for(var r in this.triggers)this.removeTrigger(r);return this}},t});